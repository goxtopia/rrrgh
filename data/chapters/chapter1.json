{
  "title": "è¿·é›¾æ¸¯å£ (Mist Harbor) - Chapter 1",
  "start_node": "character_select",
  "initial_state": {
    "sanity": 100,
    "inventory": [],
    "stats": { "str": 10, "dex": 10 }
  },
  "nodes": {
    "character_select": {
      "text": "åœ¨ä½ æ¢å¤æ„è¯†ä¹‹å‰ï¼Œä½ å›å¿†èµ·è‡ªå·±æ˜¯è°...",
      "visual": "ğŸ‘¤â“",
      "choices": [
        {
          "text": "æˆ‘æ˜¯ä¸ªå¼ºå£®çš„æ°´æ‰‹ (STR +5)",
          "next_node": "arrival",
          "effect": { "update_stats": { "str": 5 } }
        },
        {
          "text": "æˆ‘æ˜¯ä¸ªæ•æ·çš„å°å· (DEX +5)",
          "next_node": "arrival",
          "effect": { "update_stats": { "dex": 5 } }
        },
        {
          "text": "æˆ‘æ˜¯ä¸ªç§å®¶ä¾¦æ¢ (SAN +20)",
          "next_node": "arrival",
          "effect": { "sanity": 20 }
        }
      ]
    },
    "arrival": {
      "text": "ã€ç¬¬ä¸€ç« ï¼šè¿·é›¾ä¸­çš„å¼‚å®¢ã€‘\n\nå†°å†·çš„æµ·æ°´å‘›å…¥ä½ çš„è‚ºéƒ¨ã€‚ä½ æ‹¼å‘½æŒ£æ‰ï¼Œç»ˆäºçˆ¬ä¸Šäº†æ»¡æ˜¯è—¤å£¶çš„ç å¤´ã€‚å››å‘¨æ˜¯æµ“å¾—åŒ–ä¸å¼€çš„é›¾ï¼Œç©ºæ°”ä¸­å¼¥æ¼«ç€è…çƒ‚æµ·è—»å’Œæ­»é±¼çš„è…¥æ°”ã€‚\n\nè¿œå¤„éšçº¦å¯è§ä¸¤å¤„å…‰äº®ï¼šæ˜é»„çš„ç…¤æ°”ç¯ï¼ˆé€šå¾€å¹¿åœºï¼‰å’Œæƒ¨ç™½çš„ç¯å¡”å…‰æŸã€‚",
      "visual": "ğŸŒŠğŸŒ«ï¸âš“",
      "choices": [
        {
          "text": "èµ°å‘å¹¿åœºä¸­å¿ƒ",
          "next_node": "town_square",
          "effect": {}
        },
        {
          "text": "æ£€æŸ¥ç å¤´é™„è¿‘çš„ä»“åº“",
          "next_node": "dock_warehouse",
          "effect": {}
        }
      ]
    },
    "dock_warehouse": {
      "text": "ä»“åº“é‡Œå †æ»¡äº†å‘éœ‰çš„æ¸”ç½‘ã€‚è§’è½é‡Œæœ‰ä¸€å…·å¹²æ¯çš„å°¸ä½“ï¼Œæ‰‹é‡Œç´§ç´§æ”¥ç€ä»€ä¹ˆã€‚æ—è¾¹è¿˜æœ‰ä¸€ä¸ªé’‰æ­»çš„æœ¨ç®±ã€‚",
      "visual": "ğŸšï¸ğŸ•¸ï¸ğŸ’€",
      "choices": [
        {
          "text": "æœæŸ¥å°¸ä½“",
          "next_node": "loot_body",
          "effect": {
            "sanity": -5
          }
        },
        {
          "text": "[STR] å¼ºè¡Œæ’¬å¼€æœ¨ç®± (Roll + STR > 15)",
          "roll": {
             "dice": "1d20",
             "bonus_stat": "str",
             "target": 15,
             "condition": "gt",
             "success_node": "open_crate_success",
             "failure_node": "open_crate_fail"
          },
          "next_node": "dummy"
        },
        {
          "text": "ç¦»å¼€å»å¹¿åœº",
          "next_node": "town_square",
          "effect": {}
        }
      ]
    },
    "open_crate_success": {
      "text": "ä½ ç”¨è›®åŠ›æ‰¯å¼€äº†æœ¨æ¿ã€‚é‡Œé¢æœ‰ä¸€äº›è¿‡æœŸçš„ç½å¤´ã€‚",
      "visual": "ğŸ¥«ğŸ’ª",
      "choices": [
        {
          "text": "åƒæ‰ç½å¤´ (+10 Sanity)",
          "next_node": "dock_warehouse",
          "effect": { "sanity": 10 }
        }
      ]
    },
    "open_crate_fail": {
      "text": "ç®±å­çº¹ä¸ä¸åŠ¨ï¼Œä½ çš„æ‰‹æŒ‡è¿˜åˆ’ç ´äº†ã€‚",
      "visual": "ğŸ”’ğŸ©¸",
      "choices": [
        {
          "text": "ç®—äº†",
          "next_node": "dock_warehouse",
          "effect": { "sanity": -2 }
        }
      ]
    },
    "loot_body": {
      "text": "ä½ è·å¾—äº†ä¸€ç›ã€æ—§æ²¹ç¯ã€‘å’Œä¸€æŠŠã€æ’¬æ£ã€‘ã€‚å°¸ä½“æ²¡æœ‰é¼»å­ï¼Œåªæœ‰ä¸¤ä¸ªå­”æ´ã€‚",
      "visual": "ğŸ”¦ğŸ› ï¸ğŸ§Ÿ",
      "choices": [
        {
          "text": "å‰å¾€å¹¿åœº",
          "next_node": "town_square",
          "effect": {
            "add_item": ["oil_lamp", "crowbar"]
          }
        }
      ]
    },
    "town_square": {
      "text": "é•‡ä¸­å¿ƒå¼‚å¸¸å®‰é™ã€‚ä½ å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªæ–¹å‘ï¼š\n1. å–§é—¹çš„ã€è€æ°´æ‰‹é…’é¦†ã€‘\n2. ç ´è´¥çš„ã€æ‚è´§åº—ã€‘\n3. å……æ»¡è…¥è‡­å‘³çš„ã€é±¼å¸‚ã€‘\n4. ä¸¤æ ‹å»ºç­‘é—´çš„ã€æš—å··ã€‘",
      "visual": "ğŸ˜ï¸ğŸ›¤ï¸ğŸ‘€",
      "choices": [
        {
          "text": "å»é…’é¦† (ç¤¾äº¤/ç¥ç§˜)",
          "next_node": "tavern_enter",
          "effect": {}
        },
        {
          "text": "å»æ‚è´§åº— (è°ƒæŸ¥/ç‰©èµ„)",
          "next_node": "store_enter",
          "effect": {}
        },
        {
          "text": "å»é±¼å¸‚ (æˆ˜æ–—/æ­¦å™¨)",
          "next_node": "fish_market",
          "effect": {}
        },
        {
          "text": "æŸ¥çœ‹æš—å·· (æ”¯çº¿)",
          "next_node": "dark_alley",
          "effect": {}
        }
      ]
    },
    "fish_market": {
      "text": "åœ°é¢ä¸Šè¦†ç›–ç€åšåšçš„å†…è„å±‚ã€‚ä¸€åªå·¨å¤§çš„ã€åƒç‹—ä¸€æ ·çš„ç”Ÿç‰©æ­£åœ¨å•ƒé£Ÿæ®‹éª¸ã€‚å®ƒçš„èƒŒä¸Šé•¿ç€é³ã€‚å®ƒè¿˜æ²¡å‘ç°ä½ ã€‚",
      "visual": "ğŸŸğŸ”ªğŸ•",
      "choices": [
        {
          "text": "[DEX] æ½œè¡Œè¿‡å»æ‹¿ã€å‰”éª¨åˆ€ã€‘ (Roll + DEX > 15)",
          "roll": {
             "dice": "1d20",
             "bonus_stat": "dex",
             "target": 15,
             "condition": "gt",
             "success_node": "get_knife_stealth",
             "failure_node": "stealth_fail"
          },
          "next_node": "dummy"
        },
        {
          "text": "ç”¨ã€æ’¬æ£ã€‘å·è¢­å®ƒ",
          "next_node": "fight_dog",
          "condition": { "has_item": "crowbar" },
          "effect": {}
        },
        {
          "text": "å¤ªå±é™©äº†ï¼Œæ’¤é€€",
          "next_node": "town_square",
          "effect": {}
        }
      ]
    },
    "stealth_fail": {
       "text": "ä½ è¸©åˆ°äº†é±¼å†…è„æ»‘å€’äº†ï¼æ€ªç‰©çŒ›åœ°è½¬è¿‡å¤´ï¼Œæ‰‘å‘äº†ä½ ã€‚",
       "visual": "âš ï¸ğŸ•ğŸ’¥",
       "choices": [
         {
           "text": "é€ƒè·‘ (-10 Sanity)",
           "next_node": "town_square",
           "effect": { "sanity": -10 }
         }
       ]
    },
    "get_knife_stealth": {
      "text": "ä½ å±ä½å‘¼å¸ï¼Œæ‹¿åˆ°äº†ã€å‰”éª¨åˆ€ã€‘ã€‚æ€ªç‰©çªç„¶æŠ¬å¤´å—…äº†å—…ï¼Œä½ èµ¶ç´§æºœå›äº†å¹¿åœºã€‚",
      "visual": "ğŸ—¡ï¸ğŸ¤«ğŸ’¨",
      "choices": [
        {
          "text": "å›åˆ°å¹¿åœº",
          "next_node": "town_square",
          "effect": { "add_item": "knife" }
        }
      ]
    },
    "fight_dog": {
      "text": "ä½ ä¸€æ£å­æ•²ç¢äº†å®ƒçš„å¤´éª¨ã€‚ç»¿è‰²çš„è¡€æ¶²æº…äº†ä¸€åœ°ã€‚ä½ é¡ºæ‰‹æ‹¿èµ°äº†æ—è¾¹çš„ã€å‰”éª¨åˆ€ã€‘ã€‚",
      "visual": "ğŸ©¸ğŸ¤•ğŸ—¡ï¸",
      "choices": [
        {
          "text": "å›åˆ°å¹¿åœº",
          "next_node": "town_square",
          "effect": {
             "add_item": "knife",
             "sanity": -5
          }
        }
      ]
    },
    "dark_alley": {
      "text": "é˜´å½±é‡Œç¼©ç€ä¸€ä¸ªè¡£è¡«è¤´è¤›çš„äººã€‚ä»–æ­£åœ¨ç”¨çŸ³å¤´åœ¨å¢™ä¸Šåˆ»ç”»å¥‡æ€ªçš„ç¬¦å·ã€‚â€œä»–ä»¬æ¥äº†...å°±åœ¨æ°´ä¸‹...â€",
      "visual": "ğŸšï¸ğŸ‘¨â€ğŸ¦±ğŸ§±",
      "choices": [
        {
          "text": "ç»™ä»–ä¸€ç“¶é…’ï¼ˆå¦‚æœä½ æœ‰çš„è¯ï¼‰",
          "next_node": "beggar_talk",
          "condition": { "has_item": "alcohol" },
          "effect": {}
        },
        {
          "text": "æå“ä»–",
          "next_node": "beggar_scare",
          "effect": { "sanity": -5 }
        },
        {
           "text": "è¯¢é—®ä»–åœ¨ç”»ä»€ä¹ˆ",
           "next_node": "beggar_ask",
           "effect": {}
        },
        {
          "text": "ç¦»å¼€",
          "next_node": "town_square",
          "effect": {}
        }
      ]
    },
    "beggar_ask": {
      "text": "â€œé’¥åŒ™...å¼€å¯æ·±æ¸Šçš„é’¥åŒ™...â€ ä»–çªç„¶å¡ç»™ä½ ä¸€æšã€å¥‡æ€ªçš„ç¡¬å¸ã€‘ï¼Œç„¶åè·‘æ‰äº†ã€‚",
      "visual": "ğŸª™ğŸƒâ€â™‚ï¸ğŸ’¨",
      "choices": [
        {
          "text": "å›åˆ°å¹¿åœº",
          "next_node": "town_square",
          "effect": { "add_item": "strange_coin" }
        }
      ]
    },
    "beggar_scare": {
      "text": "ä»–å°–å«ç€è·‘å¼€äº†ï¼Œå¼•æ¥äº†å‡ ä¸ªæ‘æ°‘çš„æ³¨æ„ã€‚ä½ ä¸å¾—ä¸åŒ†å¿™ç¦»å¼€ã€‚",
      "visual": "ğŸ˜±ğŸƒâ€â™‚ï¸ğŸ‘€",
      "choices": [
        {
          "text": "å›åˆ°å¹¿åœº",
          "next_node": "town_square",
          "effect": {}
        }
      ]
    },
    "beggar_talk": {
      "text": "ï¼ˆæ­¤å¤„é€»è¾‘å¦‚æœä½ æ²¡æœ‰é…’å°±æ— æ³•è§¦å‘ï¼Œä½†ä¸ºäº†ç®€åŒ–ï¼Œå‡è®¾é…’é¦†å¯ä»¥è·å¾—é…’ï¼Œæˆ–è€…è¿™é‡Œæ˜¯ä¸€ä¸ªæ­»èƒ¡åŒåˆ†æ”¯ï¼‰\nç›®å‰ä½ èº«ä¸Šæ²¡æœ‰é…’ã€‚",
      "visual": "âŒğŸ¾",
      "choices": [
         {
           "text": "è¿”å›",
           "next_node": "dark_alley",
           "effect": {}
         }
      ]
    },
    "tavern_enter": {
      "text": "è€æ°´æ‰‹é…’é¦†ã€‚å‡ ååŒæ­»é±¼çœ¼ç›¯ç€ä½ ã€‚è€Silasåœ¨å§å°å–é…’ã€‚",
      "visual": "ğŸºğŸ‘ï¸",
      "choices": [
        {
          "text": "æ‰¾è€Silasè°ˆè°ˆ",
          "next_node": "tavern_talk",
          "effect": {}
        },
        {
           "text": "ä¹°ä¸€ç“¶åŠ£è´¨æœ—å§†é…’",
           "next_node": "buy_alcohol",
           "effect": { "add_item": "alcohol", "sanity": -2 }
        }
      ]
    },
    "buy_alcohol": {
      "text": "ä½ ä¹°äº†ä¸€ç“¶é…’ã€‚è¿™å¯èƒ½ä¼šæœ‰ç”¨ã€‚",
      "visual": "ğŸ¾ğŸ’°",
      "choices": [
        {
          "text": "å›åˆ°åº§ä½",
          "next_node": "tavern_enter",
          "effect": {}
        }
      ]
    },
    "tavern_talk": {
      "text": "Silasç»™ä½ ä¸€ä¸ªæŠ¤èº«ç¬¦ã€‚â€œå»æ•™å ‚...é‚£æ˜¯å”¯ä¸€å®‰å…¨çš„åœ°æ–¹ã€‚â€",
      "visual": "ğŸ§¿ğŸ—£ï¸",
      "choices": [
        {
          "text": "å‰å¾€æ•™å ‚ (Chapter 2A)",
          "next_chapter": "chapter2_church",
          "next_node": "start",
          "effect": { "add_item": "dagon_amulet" }
        },
        {
          "text": "ç¦»å¼€",
          "next_node": "town_square",
          "effect": {}
        }
      ]
    },
    "store_enter": {
      "text": "æ‚è´§åº—ä¸€ç‰‡ç‹¼è—‰ã€‚ä½ å‘ç°äº†å“ˆæ´›å¨åŒ»ç”Ÿçš„æ—¥è®°ï¼Œæåˆ°äº†ç–¯äººé™¢çš„è§£è¯ã€‚",
      "visual": "ğŸªğŸ“–",
      "choices": [
        {
          "text": "å‰å¾€ç–¯äººé™¢ (Chapter 2B)",
          "next_chapter": "chapter2_asylum",
          "next_node": "start",
          "effect": { "add_item": "doctor_diary" }
        },
        {
          "text": "ç¦»å¼€",
          "next_node": "town_square",
          "effect": {}
        }
      ]
    }
  }
}